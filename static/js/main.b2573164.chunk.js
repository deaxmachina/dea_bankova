(this.webpackJsonpportfolio_website_github=this.webpackJsonpportfolio_website_github||[]).push([[0],{143:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(80),i=a.n(s),c=a(16),o=a(6),r=(a(59),a(60),a(0)),l=Object(r.jsxs)("section",{className:"about-me-text",children:[Object(r.jsx)("p",{children:"I am a currently Tokyo-based, and usually London-based, developer and designer focusing on visualisation and visual storytelling through data. My goal is to create or contribute to work that engages audiences with the important issues of our day; is creative and informative at the same time; or is fun and delightful."}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"I have worked in both industry and academia and have a background in mathematics and machine learning. While my focus is on data visualisation, I can engage in the end-to-end or part of the process of working with data - posing a question, extracting insight, designing the visual representation, and finally coding it all up. My technical stack includes Python for data analysis, JavaScript and React for front-end, and D3.js for building custom visualisations."})]}),d=function(){return Object(r.jsx)("svg",{width:"0",height:"0",children:Object(r.jsx)("defs",{children:Object(r.jsxs)("filter",{id:"glow-generic",children:[Object(r.jsx)("feGaussianBlur",{stdDeviation:"3.0",result:"colouredBlur"}),Object(r.jsxs)("feMerge",{children:[Object(r.jsx)("feMergeNode",{in:"colouredBlur"}),Object(r.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})})})},h=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(d,{}),Object(r.jsx)("div",{className:"title-container",id:"about__about-title-container",children:Object(r.jsx)("div",{className:"title-text large-text highlight-dark-background",id:"about__about-title-text",children:"About"})}),Object(r.jsx)("div",{id:"about__about-text",className:"body-text-normal",children:Object(r.jsx)("div",{children:l})})]})},j=function(e){var t=e.scaleFactor,a=e.imgUrl;return Object(r.jsx)("div",{id:"about__about-photo",children:Object(r.jsx)("svg",{width:"200",height:"200",style:{overflow:"visible"},children:Object(r.jsxs)("g",{transform:"scale(".concat(t,")"),children:[Object(r.jsxs)("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"394",height:"447",children:[Object(r.jsx)("rect",{x:"342.222",y:"172.829",width:"242",height:"242",transform:"rotate(135.575 342.222 172.829)"}),Object(r.jsx)("rect",{x:"393.061",y:"270.565",width:"242",height:"242",transform:"rotate(133.47 393.061 270.565)"})]}),Object(r.jsxs)("g",{mask:"url(#mask0)",children:[Object(r.jsx)("rect",{className:"card-light-purple","fill-opacity":.2,filter:"url(#glow-about)",x:"253.336",y:"104.134",width:"238",height:"125",transform:"rotate(90.095 253.336 104.134)"}),Object(r.jsx)("rect",{className:"card-blue","fill-opacity":.8,x:"342.222",y:"172.829",width:"242",height:"242",transform:"rotate(135.575 342.222 172.829)"}),Object(r.jsx)("rect",{className:"card-purple","fill-opacity":.8,x:"393.061",y:"270.565",width:"242",height:"242",transform:"rotate(133.47 393.061 270.565)"}),Object(r.jsx)("rect",{y:"71",width:"401",height:"250",fill:"url(#pattern0)",style:{mixBlendMode:"screen"}})]}),Object(r.jsxs)("defs",{children:[Object(r.jsxs)("filter",{id:"glow-about",children:[Object(r.jsx)("feGaussianBlur",{stdDeviation:"5.0",result:"colouredBlur"}),Object(r.jsxs)("feMerge",{children:[Object(r.jsx)("feMergeNode",{in:"colouredBlur"}),Object(r.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(r.jsxs)("filter",{id:"static-noise-about",children:[Object(r.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"10",result:"noisy",numOctaves:"1"}),Object(r.jsx)("feComposite",{operator:"in",in:"noisy",in2:"SourceGraphic",result:"monoNoise"}),Object(r.jsx)("feBlend",{in:"SourceGraphic",in2:"monoNoise",mode:"multiply"})]}),Object(r.jsx)("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:Object(r.jsx)("use",{xlinkHref:"#image0",transform:"translate(0 -0.101393) scale(0.000533333 0.000855467)"})}),Object(r.jsx)("image",{id:"image0",width:"1875",height:"1406",xlinkHref:a}),"    "]})]})})})},b=a(9),u=a(18),p=function(){return Object(r.jsxs)("div",{id:"about__cv-title",children:[Object(r.jsx)("h2",{className:"medium-text highlight-dark-background",children:"CV at a glance"}),Object(r.jsx)("p",{className:"body-text-normal highlight-dark-background",children:"*hover/tap over each dot for notes"}),Object(r.jsxs)("p",{className:"body-text-normal highlight-dark-background",children:["or visit",Object(r.jsx)("a",{href:"https://www.linkedin.com/in/dbankova/",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.b,className:"about__linkedin-icon"})}),"for details"]})]})},m=a(3),f=[{id:0,date:"2020 Sep - 2021 Oct",type:"work",title:"Specially Appointed Researcher (Data Viz)",workplace:"University of Tokyo, Interfaculty Initiative in Information Studies Watanave Hidenori Lab",location:"Tokyo, Japan",details:"\n      I joined the lab as part of the Daiwa program and was later on hired formally. \n      While my title is researcher, I spend the bulk of my time on practical data viz development and \n      design and some on data analysis. Archiving and storytelling through data viz (e.g. Tohoku earthquake, Covid-19 in Japan).    \n    "},{id:1,date:"2019 Sep - 2020 Jul",type:"education",title:"Japanese Language Program",workplace:"Daiwa Anglo-Japanese Foundation & Waseda University",location:"Tokyo, Japan",details:"\n      I was awarded the prestigious Daiwa scholarship for cultural activities in Japan. \n      Between 2019 and early 2021, I completed a year-long full-time Japanese language course \n      (obtaining JLPT N2 certificate) at Waseda University and started work at the University of Tokyo. \n    "},{id:2,date:"2018 Jan - 2019 Jul",type:"work",title:"Data Scientist / Machine Learning Engineer",workplace:"DataSine",location:"London, UK",details:"\n      Joining as the first direct report into the Chief Scientist of this machine learning start-up in London, \n      I was responsible for data collection and cleaning, ML model building (NLP, computer vision) and putting\n      models into production (Python + ML frameworks such as TensorFlow, Keras, spaCy).  \n    "},{id:3,date:"2016 Oct - 2017 Dec",type:"work",title:"Data Science Consultant",workplace:"Microsoft UK",location:"London, UK",details:"\n      As part of the then nascent data science team within Microsoft Services, I built custom machine learning \n      models for or worked with data from a number of enterprise clients. My work included: Azure data services, \n      computer vision, a recommendation engine, data visualisation. \n    "},{id:4,date:"2015 Sep - 2016 Oct",type:"work",title:"Technical Account Manager",workplace:"Microsoft UK",location:"Reading, UK",details:"\n      My very first job out of university and, in retrospect, not a great fit. I learnt valuable skills in managing \n      customer relations and operating within various business environments, but ultimately chose to spend time \n      learning to code on my own and transferred into a technical role as a data scientist.  \n    "},{id:5,date:"2014 Oct - 2015 Sep",type:"education",title:"MSc Mathematics & Foundations of Computer Science",workplace:"University of Oxford",location:"Oxford, UK",details:"\n      I spent a truly memorable year surrounded by a diverse and wonderful group of people on the \n      MFoCS course, while persevering through a rather challenging curriculum. For my dissertation I worked \n      with Prof Bob Coecke in a field combining NLP, cognition, linguistics and quantum computing. \n    "},{id:6,date:"2011 Sep - 2014 Aug",type:"education",title:"BSc Mathematics",workplace:"University College London",location:"London, UK",details:"\n      At UCL I tried to do it all \u2013 I volunteered, tutored, led the UCL Maths Society, student council. \n      I specialised in pure mathematics, especially discrete maths & algebra, which attracted me to the \n      field of CS. Contrary to popular belief, I am not very good at either arithmetic or statistics unfortunately.   \n    "}],g=function(e){var t=e.windowWidth,a=(e.windowHeight,Object(n.useRef)()),s="50%",i=900;return Object(n.useEffect)((function(){var e=t>600?1200:1500,n=m.i(a.current),c=m.h().domain(f.map((function(e){return e.date}))).range([0,e]).padding(.3),o=n.selectAll(".timeline-line").data([0]).join("div").classed("timeline-line",!0).style("position","absolute").style("left",s).style("height","".concat(e,"px")).style("width","1px").style("opacity",.7),r=n.selectAll(".timeline-point").data(f).join("div").classed("timeline-point",!0).style("position","absolute").style("left","calc(".concat(s," - 6.5px)")).style("top",(function(e){return"".concat(c(e.date),"px")})).style("opacity",1),l=(n.selectAll(".timeline-point-bg").data(f).join("div").classed("timeline-point-bg",!0).style("position","absolute").style("left","calc(".concat(s," - 30px)")).style("top",(function(e){return"".concat(c(e.date)-30,"px")})).style("width","60px").style("height","60px").on("mouseover",(function(e,t){var a=.1;d.style("opacity",(function(e){return e==t?0:a})),u.style("opacity",(function(e){return e==t?1:0})).style("z-index",2),b.style("opacity",(function(e){return e==t?1:a})),o.style("opacity",a),r.style("opacity",(function(e){return e==t?1:a})),j.style("opacity",(function(e){return e==t?1:a}))})).on("mouseout",(function(e,t){d.style("opacity",1),u.style("opacity",0).style("z-index",-1),b.style("opacity",1),o.style("opacity",1),r.style("opacity",1),j.style("opacity",1)})),t>520?"370px":t>400?"300px":"250px"),d=n.selectAll(".timeline-info").data(f).join("div").classed("timeline-info",!0).style("position","absolute").style("top",(function(e){return"".concat(c(e.date)-30,"px")})).style("left",(function(e){return t>i?"work"==e.type?"calc(".concat(s," + 20px)"):"calc(".concat(s," - 20px - ").concat(l,")"):"calc(".concat(s," + 20px)")})).style("width",l).style("text-align",(function(e){return t>i?"work"==e.type?"left":"right":"left"}));d.selectAll(".job-title").data((function(e){return[e]})).join("p").classed("job-title gradient padding body-text-normal",!0).selectAll(".title-span").data((function(e){return[e]})).join("span").classed("title-span highlight-dark-background",!0).text((function(e){return e.title})),d.selectAll(".workplace-name").data((function(e){return[e]})).join("p").classed("workplace-name highlight-dark-background",!0).text((function(e){return e.workplace})),d.selectAll(".workplace-location").data((function(e){return[e]})).join("p").classed("workplace-location highlight-dark-background",!0).text((function(e){return e.location}));var h=50,j=n.selectAll(".date-line").data(f).join("div").classed("date-line",!0).style("position","absolute").style("width",t>650?"".concat(h,"px"):0).style("top",(function(e){return"".concat(c(e.date)+5,"px")})).style("left",(function(e){return t>i?"work"==e.type?"calc(".concat(s," - ").concat(h,"px - 10px)"):"calc(".concat(s," + 10px)"):"calc(".concat(s," - ").concat(h,"px - 10px)")})).style("opacity",.7).style("height","1px"),b=n.selectAll(".timeline-date").data(f).join("p").classed("timeline-date highlight-dark-background",!0).style("position","absolute").style("top",(function(e){return"".concat(t>650?c(e.date)-6:c(e.date)-60,"px")})).style("left",(function(e){return t>i?"work"==e.type?"calc(".concat(s," - ").concat(h,"px - 180px)"):"calc(".concat(s," + ").concat(h,"px + 20px)"):t>650?"calc(".concat(s," - ").concat(h,"px - 180px)"):"calc(".concat(s," + ").concat(h,"px + -30px)")})).text((function(e){return e.date})),u=n.selectAll(".timeline-info-extended").data(f).join("div").classed("timeline-info-extended",!0).style("z-index",-1).style("position","absolute").style("top",(function(e){return"".concat(c(e.date)-100,"px")})).style("left",(function(e){return t>i?"work"==e.type?"calc(".concat(s," + 20px)"):"calc(".concat(s," - 20px - ").concat(l,")"):"calc(".concat(s," + 20px)")})).style("width",l);u.selectAll(".job-title-extended").data((function(e){return[e]})).join("h4").classed("job-title-extended",!0).text((function(e){return e.title})),u.selectAll(".job-description").data((function(e){return[e]})).join("p").classed("job-description",!0).text((function(e){return e.details}))}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{id:"about__cv-title",className:"medium-text"}),Object(r.jsx)("div",{id:"about__cv-container",children:Object(r.jsx)("div",{ref:a})})]})},x=a(5),O=(a(143),function(e){var t=e.color;return Object(r.jsx)(x.b,{to:"/",children:Object(r.jsx)("div",{className:"home-link",children:Object(r.jsx)("p",{style:{color:t},children:"home"})})})}),y=(a(146),a(22)),w=function(e){var t=e.colorCustom,a=e.backgroundColorCustom;return Object(r.jsx)("div",{className:"footer",style:{color:t,backgroundColor:a},children:Object(r.jsxs)("div",{className:"footer__container",children:[Object(r.jsxs)("div",{className:"footer__social-container",children:[Object(r.jsx)("div",{className:"footer__social",children:Object(r.jsx)("a",{href:"mailto:hello@deabankova.com",children:Object(r.jsx)(b.a,{icon:y.c,className:"footer__social-icon-s"})})}),Object(r.jsx)("div",{className:"footer__social",children:Object(r.jsx)("a",{href:"https://twitter.com/DeaBankova",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.c,className:"footer__social-icon-s"})})}),Object(r.jsx)("div",{className:"footer__social",children:Object(r.jsx)("a",{href:"https://www.linkedin.com/in/dbankova/",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.b,className:"footer__social-icon-s"})})}),Object(r.jsx)("div",{className:"footer__social",children:Object(r.jsx)("a",{href:"https://github.com/deaxmachina",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.a,className:"footer__social-icon-s"})})}),Object(r.jsx)("div",{className:"footer__social",children:Object(r.jsx)(x.b,{to:"/",children:Object(r.jsx)(b.a,{icon:y.d,className:"footer__social-icon-s"})})})]}),Object(r.jsx)("div",{className:"footer__text",children:Object(r.jsx)("p",{id:"footer__name",children:"\xa9 2021 Dea Bankova "})})]})})},v=function(e){var t=e.windowWidth,a=e.windowHeight;return Object(r.jsxs)("section",{id:"about__page-container",children:[Object(r.jsx)(O,{color:"#ebebeb"}),Object(r.jsxs)("div",{id:"about__about-container",children:[Object(r.jsx)(j,{scaleFactor:t>1300?1.3:t>1100?1.1:t>600?.95:t>400?.8:.7,imgUrl:"https://live.staticflickr.com/65535/51077543302_8c5ce50658_b.jpg"}),Object(r.jsx)(h,{})]}),Object(r.jsx)(p,{}),Object(r.jsx)(g,{windowWidth:t,windowHeight:a}),Object(r.jsx)(w,{colorCustom:"#423E42",backgroundColorCustom:"#151315"})]})},_=a(7);var k=Object(_.f)((function(e){var t=e.history;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null})),N=(a(147),[{id:"anime-timeline",title:"Timeline of Anime",websiteUrl:"https://animetimeline.netlify.app/",imgUrl:"https://live.staticflickr.com/65535/51100639753_1f4281a9e2_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51100904620_e7c1a12e14_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51100639753_1f4281a9e2_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51100904620_e7c1a12e14_o.png",backgroundColour:"#4E1B34",responsibleFor:"data preparation, visualisation, website",tools:"D3.js, React, Python",client:Object(r.jsx)("em",{children:"personal project"}),description:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"As an avid Japanese anime fan, I started this project with the idea of expressing through visualisation the evolution of anime genres over time. Was sci-fi more popular in the 90s, were the 2000s truly the \u2018golden age\u2019 of anime, and if so, what genres were prevalent during that time? As is often the case, the story I imagined the data would tell was different to reality."}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"The evolution of anime is a topic worthy of proper exploration, but I decided to leave this task to another day, and instead create an exploratory anime timeline. I used data from the popular anime fansite MyAnimeList, sorted the anime of each year by user rating (vertical axis) and popularity (size of the shape for each anime) and coloured the shapes that make up each anime representation by their genres, choosing colours which vaguely represent more or less serious/fun genres. The result is something akin to an anime \u2018dashboard\u2019 that can be used as a recommendation engine, to spot your favourite series or find similar ones, to explore your taste in genres, or see at a glance what was popular over the years."}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Creating this project was a very enjoyable experience for me, and I decided to adapt a simpler version to use when teaching the basics of D3 to a Japanese audience. ",Object(r.jsx)("a",{style:{color:"#4E1B34"},className:"link-project",href:"https://animetimelinedemo.netlify.app/",target:"_blank",children:"Here"})," is the version I used for a D3 talk I gave at LeWagon Tokyo; the GitHub repository is over ",Object(r.jsx)("a",{style:{color:"#4E1B34"},className:"link-project",href:"https://github.com/deaxmachina/lewagon_demo_vanilla",target:"_blank",children:"here"}),"."]})]})},{id:"japanese-earthquakes",title:"Earthquake Disasters in Japan",websiteUrl:"https://japan-earthquakes.netlify.app/",imgUrl:"https://live.staticflickr.com/65535/51100108341_dffc0a04d8_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51100108341_dffc0a04d8_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51100108341_dffc0a04d8_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51100108341_dffc0a04d8_o.png",backgroundColour:"#286380",responsibleFor:"data preparation, visualisation, website",tools:"D3.js, React, GSAP, Python",client:Object(r.jsxs)(r.Fragment,{children:["individual project while at ",Object(r.jsx)("em",{children:"the University of Tokyo"})]}),description:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:"Between September 2020 and March 2021, I worked on a project to record the memories of survivors of the 2011 Tohoku earthquake and tsunami disaster in north Japan. I wanted to find out more about the history of earthquakes in Japan and set out to create this visualisation, where you can see the magnitude and number of casualties over time side by side. 2011 saw the biggest earthquake in recorded Japanese history, but the deadliest one (1923 Kanto) was by far smaller in intensity. This project is by no means an in-depth representation of the history of these devastating natural phenomena, but simply a humble attempt to understand the most basic facts around them."})})},{id:"iwate-archive",title:"Tohoku Earthquake 10th Anniversary Archive",websiteUrl:"https://311narratives.archiving.jp",imgUrl:"https://live.staticflickr.com/65535/51100202969_ab9cbb0a93_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51100202969_ab9cbb0a93_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51100210929_d1f6d1a474_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51100210929_d1f6d1a474_o.png",backgroundColour:"#222E3A",responsibleFor:"data analysis, NLP, visualisation, website",tools:"D3.js, React, Python (spaCy)",client:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("b",{children:"client:"})," ",Object(r.jsx)("em",{children:"Iwate Nippo\u5ca9\u624b\u65e5\u5831"})]}),description:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:["At the start of my time at the ",Object(r.jsx)("a",{style:{color:"#222E3A"},className:"link-project",href:"https://labo.wtnv.jp/",target:"_blank",children:"Watanave Lab"})," at the University of Tokyo in 2020, I was invited to take part in a project with a prominent local news agency in Iwate prefecture in north Japan - ",Object(r.jsx)("a",{style:{color:"#222E3A"},className:"link-project",href:"https://www.iwate-np.co.jp/",target:"_blank",children:"Iwate Nippo"}),". The objective was to create an archive to preserve the thoughts, memories and narratives of survivors of the ",Object(r.jsx)("a",{a:!0,style:{color:"#222E3A"},className:"link-project",href:"https://en.wikipedia.org/wiki/2011_T%C5%8Dhoku_earthquake_and_tsunami",target:"_blank",children:"2011 Tohoku earthquake and tsunami disaster"}),", using the content of over 500 interviews. This included people\u2019s movements after 11th March 2011, their thoughts to their deceased loved ones, the rebuilding of their homes, and their experiences over the past 10 years."]}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"This was my first client project in data visualisation, and a rather important one. It was a challenge to perform linguistic analysis (NLP) on Japanese text for the first time, build a production website for the first time, and create both standard and custom visualisations in D3, which was very new to me at the time, while being respectful of the content and design/representation considerations. I did not want to get anything wrong."}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["I was humbled by the experience of working so closely with people who have lived through this disaster, and by the trust placed in me, a non-Japanese non-native speaker, to work with this valuable data. My talented colleague, Dr Takata Yurina created a ",Object(r.jsx)("a",{style:{color:"#222E3A"},className:"link-project",href:"https://311stories.archiving.jp/",target:"_blank",children:"map of the movements"})," of people whose homes were destroyed \u2013 many of them having to move over 4 times in the past 10 years. The full archive page can be viewed on ",Object(r.jsx)("a",{style:{color:"#222E3A"},className:"link-project",href:"https://www.iwate-np.co.jp/page/higashinihon2021#01-01",target:"_blank",children:"the Iwate Nippo website"}),"."]})]})},{id:"co2-emissions",title:"CO2 Emissions in Cities",websiteUrl:"https://co2cities.netlify.app/",imgUrl:"https://live.staticflickr.com/65535/51100260017_687728e4c8_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51100260017_687728e4c8_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51100260017_687728e4c8_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51100260017_687728e4c8_o.png",backgroundColour:"#2E5659",responsibleFor:"data preparation, visualisation, website",tools:"D3.js, React, Python",client:Object(r.jsxs)(r.Fragment,{children:["for ",Object(r.jsx)("em",{children:"2021 Climate Crisis AI Hackathon"})]}),description:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:["This visualisation of CO2 & other greenhouse gas emissions in cities worldwide was completed over one weekend (~30 hours) in January 2021 as part of the ",Object(r.jsx)("a",{href:"https://climate-crisis.devpost.com/",style:{color:"#2E5659"},className:"link-project",target:"_blank",children:"2021 Climate Crisis AI Hackathon "})," by ",Object(r.jsx)("a",{href:"https://launchlab.ai/",style:{color:"#2E5659"},className:"link-project",target:"_blank",children:"AI Launch Lab"}),". The challenge setter was ",Object(r.jsx)("a",{href:"https://www.climatereality.ca/",style:{color:"#2E5659"},className:"link-project",target:"_blank",children:"The Climate Reality Project Canada"}),"."]}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"It can be used to view average CO2 emissions of cities worldwide at a glance, as well as to dive into the data for a specific city \u2013 both its emissions and trends over time."})]})},{id:"olympics-museum",title:"Tokyo Olympics Museum School Trip",websiteUrl:"https://olympics.netlify.app/",imgUrl:"https://live.staticflickr.com/65535/51100179841_0cfe4b31b2_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51100319547_51b0024bbb_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51100179841_0cfe4b31b2_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51100319547_51b0024bbb_o.png",backgroundColour:"#A62343",responsibleFor:"data collection, visualisation, website",tools:"D3.js, React, Rough.js, Python",client:Object(r.jsxs)(r.Fragment,{children:["for ",Object(r.jsx)("em",{children:"the University of Tokyo"})]}),description:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:["Between Nov 2020 and Feb 2021, I worked on a collaborative project between the Universities of Tokyo and Tsukuba, coordinated by teaching bodies in Japan, with the purpose of producing materials for classroom study prior to school trips to the ",Object(r.jsx)("a",{href:"https://japan-olympicmuseum.jp/en/",style:{color:"#A62343"},className:"link-project",target:"_blank",children:"Olympics Museum in Tokyo"}),". The target audience was secondary school students in schools all around Japan."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["The questions and accompanying visualisations serve the purpose of cues for group discussions among the students before they visit the museum and aim to bring up important topics around the history and goals of the Olympics and Paralympics. The current iteration is a rough draft, or a PoC to show what is possible through the use of interactive visualisations. The Japanese version can be found ",Object(r.jsx)("a",{href:"https://olympicsjp.netlify.app/",style:{color:"#A62343"},className:"link-project",target:"_blank",children:"here"}),"."]})]})},{id:"100days-d3",title:"100 Days of D3.js",websiteUrl:"https://100daysd3.netlify.app/",imgUrl:"https://live.staticflickr.com/65535/51100815013_3dd02d1252_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51100815013_3dd02d1252_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51100815013_3dd02d1252_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51100815013_3dd02d1252_o.png",backgroundColour:"#6C6874",responsibleFor:"data preparation, visualisation",tools:"D3.js, React, Python",client:Object(r.jsx)("em",{children:"personal project"}),description:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:"In 2020, I started my data visualization journey into D3.js. Simultaneously, I was teaching myself React, while using it in real projects. I set aside time almost every day for 100 days to dedicate to my 100 Days of Code with D3 & React challenge, completing a variety of charts and custom visuals. I focused on either representing data which I deem (socially) important or on creating pieces which are fun and experimental. This website contains all the stand-alone visualisations that I completed during this time."})})}]),I=function(e){var t=e.windowWidth;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"title-container",id:"portfolio__projects-container-styles",children:Object(r.jsx)("div",{className:"title-text large-text",id:"portfolio__projects-text-styles",children:"Projects"})}),Object(r.jsx)("div",{className:"clarifying-message",children:"click on each image for details"}),Object(r.jsx)("div",{className:"portfolio-grid",children:N.map((function(e){return Object(r.jsx)("div",{className:"portfolio-grid-entry",style:{backgroundImage:"url(".concat(t>450?e.smallImgUrl:e.imgUrl,")")},children:Object(r.jsxs)("button",{className:"portfolio-grid-btn full-project noSelect",children:[Object(r.jsx)("span",{className:"portfolio-grid-project-title body-text-large",children:e.title}),Object(r.jsx)("br",{}),Object(r.jsx)(x.b,{to:"/portfolio/".concat(e.id),children:Object(r.jsx)("span",{className:"border-button full-project-btn noSelect",children:"about"})})]})},e.id)}))})]})},D=[{id:"sakura-kyoto",title:"Cherry Blossom Bloom Times in Kyoto",websiteUrl:"https://deaxmachina.github.io/sakura_bloom_times/",imgUrl:"https://live.staticflickr.com/65535/51102462279_101779f316_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51102629263_70096ca930_o.png",individualPageImgUrl:"https://live.staticflickr.com/65535/51102462279_101779f316_o.png",individualPageSmallImgUrl:"https://live.staticflickr.com/65535/51102629263_70096ca930_o.png",backgroundColour:"#e27396",responsibleFor:"data preparation, visualisation, website",tools:"D3.js, Python",description:""}],S=function(e){var t=e.windowWidth;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"title-container",id:"portfolio__standalone-container-styles",children:Object(r.jsx)("div",{className:"title-text large-text",id:"portfolio__standalone-text-styles",children:"Standalone visualisations"})}),Object(r.jsx)("div",{className:"portfolio-grid",children:D.map((function(e){return Object(r.jsx)("div",{className:"portfolio-grid-entry",style:{backgroundImage:"url(".concat(t>450?e.smallImgUrl:e.imgUrl,")")},children:Object(r.jsxs)("button",{className:"portfolio-grid-btn individual-viz noSelect",children:[Object(r.jsx)("span",{className:"portfolio-grid-project-title body-text-large",children:e.title}),Object(r.jsx)("br",{}),Object(r.jsx)("a",{href:e.websiteUrl,target:"_blank",className:"noSelect",children:Object(r.jsx)("span",{className:"border-button individual-viz-btn noSelect",children:"view"})})]})},e.id)}))})]})},C=function(e){var t=e.windowWidth;return Object(r.jsxs)("div",{id:"portfolio-container-background",children:[Object(r.jsxs)("section",{id:"portfolio-container",children:[Object(r.jsx)(d,{}),Object(r.jsx)(O,{}),Object(r.jsx)(I,{windowWidth:t}),Object(r.jsx)(S,{windowWidth:t})]}),Object(r.jsx)(w,{colorCustom:"#EBEBEB",backgroundColorCustom:"#CCCCCC"})]})},R=(a(148),function(e){var t=e.project,a=e.windowWidth;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"portfolio-page__wrapper",children:[Object(r.jsx)("div",{className:"portfolio-page__image-background",style:{backgroundColor:t.backgroundColour}}),Object(r.jsx)("div",{className:"portfolio-page__image",style:{backgroundImage:"url(".concat(a>650?t.individualPageImgUrl:t.individualPageSmallImgUrl,")")}}),Object(r.jsxs)("div",{className:"portfolio-page__text body-text-normal",children:[Object(r.jsx)("div",{className:"portfolio-page__title-text large-text",children:Object(r.jsx)("span",{children:t.title})}),Object(r.jsx)("div",{className:"portfolio-page__view-btn-container noSelect",children:Object(r.jsx)("a",{href:t.websiteUrl,target:"_blank",className:"portfolio-page__view-btn body-text-normal noSelect",style:{backgroundColor:t.backgroundColour,borderColor:t.backgroundColour},children:"view"})}),Object(r.jsxs)("p",{className:"portfolio-page__responsible-for-container",children:[Object(r.jsx)("span",{className:"portfolio-page__bold-text",children:"Responsible for: "}),Object(r.jsx)("span",{children:t.responsibleFor})]}),Object(r.jsxs)("p",{className:"portfolio-page__tools-container",children:[Object(r.jsx)("span",{className:"portfolio-page__bold-text",children:"Tools: "}),Object(r.jsx)("span",{children:t.tools})]}),Object(r.jsx)("p",{className:"portfolio-page__client-container",children:Object(r.jsx)("span",{children:t.client})}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{className:"portfolio-page__project-description-container",children:t.description})]})]})})}),M=(a(149),a(17)),U=a(54),T=a(62),A=a(63),E=a(79),F=a(2);U.a.registerPlugin(T.a,A.a,E.a);var B="#0C070E",L=.5,P=678,W=633,J="412.224",H="337.291",G="matrix(0.388631 -0.921394 0.926701 0.375798 127.2 419.359)",q=function(e){var t,a=e.scaleFactor;return Object(n.useEffect)((function(){U.a.timeline({defaults:{duration:2.5,ease:"Back.easeInOut.config(2)",opacity:0}}).from(".card",{delay:.1,scale:.2,transformOrigin:"center"},"=.2"),F.c.fromTo(".diamond",2.5,{rotation:-60,opacity:0},{rotation:45,ease:"Elastic.easeOut.config(5, 0.2)",opacity:1})}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{id:"header-viz-container",children:Object(r.jsxs)("svg",{width:P*a,height:W*a,children:[Object(r.jsxs)("defs",{children:[Object(r.jsxs)("radialGradient",{id:"radial-gradient",cx:"45%",cy:"50%",r:"50%",children:[Object(r.jsx)("stop",{offset:"0%",stopColor:"#771D43"}),Object(r.jsx)("stop",{offset:"80%",stopColor:B}),Object(r.jsx)("stop",{offset:"100%",stopColor:B})]}),Object(r.jsxs)("filter",{id:"glow",children:[Object(r.jsx)("feGaussianBlur",{stdDeviation:"4.0",result:"colouredBlur"}),Object(r.jsxs)("feMerge",{children:[Object(r.jsx)("feMergeNode",{in:"colouredBlur"}),Object(r.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(r.jsxs)("filter",{id:"static-noise",children:[Object(r.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"10",result:"noisy",numOctaves:"1"}),Object(r.jsx)("feComposite",{operator:"in",in:"noisy",in2:"SourceGraphic",result:"monoNoise"}),Object(r.jsx)("feBlend",{in:"SourceGraphic",in2:"monoNoise",mode:"multiply"})]})]}),Object(r.jsxs)("g",{transform:"scale(".concat(a,")"),children:[Object(r.jsx)("path",(t={className:"card",fill:B},Object(M.a)(t,"fill","url(#radial-gradient)"),Object(M.a)(t,"fillOpacity",.6),Object(M.a)(t,"d","M257.73 91.822L542.176 144.318L585.141 453.52L320.013 633.352L79.4997 521L22.4999 211.5L257.73 91.822Z"),t)),Object(r.jsx)("path",{className:"card card-purple",fillOpacity:.5,d:"M186.179 148.197L438.725 40.1062L677.481 284.274L591.002 527.287L339.274 579.77L78.0649 404.64L186.179 148.197Z"}),Object(r.jsx)("path",{className:"card card-blue",fillOpacity:L,filter:"url(#static-noise)",d:"M285.308 192.756L493 257.231L450.826 456.756L193 440.201L285.308 192.756Z"}),Object(r.jsx)("path",{className:"card card-blue",fillOpacity:.8,filter:"url(#static-noise)",d:"M531.539 192.411L623.087 395.298L438.961 503.591L275.889 296.366L531.539 192.411Z"}),Object(r.jsx)("path",{className:"card card-blue",fillOpacity:L,filter:"url(#static-noise)",d:"M279.277 453.039L213.451 288.121L402.972 135.38L537.285 284.5L279.277 453.039Z"}),Object(r.jsx)("rect",{className:"card card-blue",fillOpacity:L,width:J,height:H,transform:G}),Object(r.jsx)("path",{className:"card card-blue",fillOpacity:L,d:"M291.143 109.384L533.855 345.363L391.488 500.329L197.034 535.918L52.7508 319.903L291.143 109.384Z"}),Object(r.jsx)("rect",{className:"diamond card-light",filter:"url(#glow)",x:"365.37",y:"227.629",width:"106",height:"105.55",transform:"rotate(43.4472 365.37 227.629)"})]})]})})})},z=function(){return Object(r.jsxs)("div",{id:"hero-text-container",children:[Object(r.jsx)("p",{className:"greeting highlight-dark-background",children:"Hi, I'm"}),Object(r.jsx)("h1",{className:"name highlight-dark-background",children:"Dea Bankova"}),Object(r.jsx)("p",{className:"personal-description highlight-dark-background",children:"I create visualisations to tell stories with data. Currently Project Researcher in data visualisation at the University of Tokyo & independent"})]})},K=a(11),$=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{id:"hero-menu-container",children:[Object(r.jsx)(K.a,{to:"portfolio",children:Object(r.jsx)("div",{className:"menu-item",children:"portfolio"})}),Object(r.jsx)(K.a,{to:"/about",children:Object(r.jsx)("div",{className:"menu-item",children:"about"})}),Object(r.jsx)(K.a,{to:"/writing",children:Object(r.jsx)("div",{className:"menu-item",children:"writing"})}),Object(r.jsx)(K.a,{to:"#contact-page",children:Object(r.jsx)("div",{className:"menu-item",children:"contact"})})]}),Object(r.jsx)("div",{className:"menu-underline"}),Object(r.jsx)("svg",{width:"0",height:"0",children:Object(r.jsxs)("filter",{id:"static-noise-hero",children:[Object(r.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"3",result:"noisy",numOctaves:"100"}),Object(r.jsx)("feComposite",{operator:"in",in:"noisy",in2:"SourceGraphic",result:"monoNoise"}),Object(r.jsx)("feBlend",{in:"SourceGraphic",in2:"monoNoise",mode:"multiply"})]})})]})},Z=function(e){var t=e.windowWidth;e.windowHeight;return Object(r.jsxs)("section",{id:"hero-section",children:[Object(r.jsx)($,{}),Object(r.jsx)(z,{}),Object(r.jsx)(q,{scaleFactor:t>1500?1:t>1e3?.9:t>650?.75:t>400?.5:.45})]})},Y=function(e){var t=e.project,a=e.windowWidth;return Object(r.jsxs)("div",{className:"panel-left__wrapper",children:[Object(r.jsx)("div",{className:"panel-left__image-background",style:{backgroundColor:t.backgroundColour}}),Object(r.jsx)("div",{className:"panel-left__image",style:{backgroundImage:"url(".concat(a>650?t.imgUrl:t.smallImgUrl,")")}}),Object(r.jsxs)("div",{className:"panel-left__text body-text-normal",children:[Object(r.jsx)("h2",{className:"panel-left__title-text medium-text",children:Object(r.jsx)("span",{children:t.title})}),Object(r.jsxs)("p",{className:"panel__responsible-for-container",children:[Object(r.jsx)("span",{className:"panel__bold-text",children:"Responsible for: "}),Object(r.jsx)("span",{children:t.responsibleFor})]}),Object(r.jsxs)("p",{className:"panel__tools-container",children:[Object(r.jsx)("span",{className:"panel__bold-text",children:"Tools: "}),Object(r.jsx)("span",{children:t.tools})]}),Object(r.jsx)("p",{className:"panel__client-container",children:Object(r.jsx)("span",{children:t.client})}),Object(r.jsx)("button",{className:"view-btn body-text-normal noSelect",style:{backgroundColor:t.backgroundColour,borderColor:t.backgroundColour},children:Object(r.jsx)("a",{href:t.websiteUrl,target:"_blank",children:"view"})}),Object(r.jsx)(x.b,{to:"/portfolio/".concat(t.id),children:Object(r.jsx)("button",{style:{borderColor:t.backgroundColour,color:t.backgroundColour},className:"about-btn body-text-normal",children:"about"})})]})]})},V=function(e){var t=e.project,a=e.windowWidth;return Object(r.jsxs)("div",{className:"panel-right__wrapper",children:[Object(r.jsxs)("div",{className:"panel-right__text body-text-normal",children:[Object(r.jsx)("h2",{class:"panel-right__title-text medium-text",children:Object(r.jsx)("span",{children:t.title})}),Object(r.jsxs)("p",{className:"panel__responsible-for-container",children:[Object(r.jsx)("span",{className:"panel__bold-text",children:"Responsible for: "}),Object(r.jsx)("span",{children:t.responsibleFor})]}),Object(r.jsxs)("p",{className:"panel__tools-container",children:[Object(r.jsx)("span",{className:"panel__bold-text",children:"Tools: "}),Object(r.jsx)("span",{children:t.tools})]}),Object(r.jsx)("p",{className:"panel__client-container",children:Object(r.jsx)("span",{children:t.client})}),Object(r.jsx)("button",{className:"view-btn body-text-normal noSelect",style:{backgroundColor:t.backgroundColour,borderColor:t.backgroundColour},children:Object(r.jsx)("a",{href:t.websiteUrl,target:"_blank",children:"view"})}),Object(r.jsx)(x.b,{to:"/portfolio/".concat(t.id),children:Object(r.jsx)("button",{style:{borderColor:t.backgroundColour,color:t.backgroundColour},className:"about-btn body-text-normal",children:"about"})})]}),Object(r.jsx)("div",{className:"panel-right__image-background",style:{backgroundColor:t.backgroundColour}}),Object(r.jsx)("div",{className:"panel-right__image",style:{backgroundImage:"url(".concat(a>650?t.imgUrl:t.smallImgUrl,")")}})]})},Q=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(d,{}),Object(r.jsx)("div",{className:"title-container",id:"showcase-container-styles",children:Object(r.jsx)("div",{className:"title-text large-text highlight-dark-background",id:"showcase-text-styles",children:"Selected Projects"})})]})},X=function(){return Object(r.jsx)(x.b,{to:"portfolio",className:"medium-text noSelect",children:Object(r.jsxs)("div",{id:"portfolio-showcase__seemore",className:"medium-text noSelect",children:[Object(r.jsx)("span",{className:"medium-text",children:"More Projects"}),Object(r.jsx)(b.a,{icon:y.a,id:"portfolio-showcase__seemore-arrow",className:"medium-text"})]})})},ee=(a(150),["anime-timeline","japanese-earthquakes","iwate-archive","co2-emissions","olympics-museum"]),te=(N.filter((function(e){return ee.includes(e.id)})),N.filter((function(e){return"anime-timeline"==e.id}))),ae=Object(o.a)(te,1)[0],ne=N.filter((function(e){return"japanese-earthquakes"==e.id})),se=Object(o.a)(ne,1)[0],ie=N.filter((function(e){return"iwate-archive"==e.id})),ce=Object(o.a)(ie,1)[0],oe=N.filter((function(e){return"co2-emissions"==e.id})),re=Object(o.a)(oe,1)[0],le=N.filter((function(e){return"olympics-museum"==e.id})),de=(Object(o.a)(le,1)[0],function(e){var t=e.windowWidth;e.windowHeight;return Object(r.jsxs)("section",{id:"portfolio-showcase-section",children:[Object(r.jsx)(Q,{}),Object(r.jsx)(Y,{project:ae,windowWidth:t}),Object(r.jsx)(V,{project:se,windowWidth:t}),Object(r.jsx)(Y,{project:ce,windowWidth:t}),Object(r.jsx)(V,{project:re,windowWidth:t}),Object(r.jsx)(X,{})]})}),he=(a(151),function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{id:"contact__contact-container",children:Object(r.jsx)("div",{id:"contact__contact-text",className:"large-text highlight-blue-background",children:"Contact"})}),Object(r.jsx)("svg",{width:"0",height:"0",children:Object(r.jsx)("defs",{children:Object(r.jsxs)("filter",{id:"static-noise-contact",children:[Object(r.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"3",result:"noisy",numOctaves:"10"}),Object(r.jsx)("feComposite",{operator:"in",in:"noisy",in2:"SourceGraphic",result:"monoNoise"}),Object(r.jsx)("feBlend",{in:"SourceGraphic",in2:"monoNoise",mode:"multiply"})]})})})]})}),je=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{id:"contact__contact-box",children:Object(r.jsxs)("div",{id:"contact__contact-content",children:[Object(r.jsx)("div",{id:"contact__text-title",className:"body-text-large",children:"Interested in working together?"}),Object(r.jsxs)("div",{className:"body-text-normal",children:[Object(r.jsx)("a",{href:"mailto:hello@deabankova.com",id:"contact__contact-email",children:"Drop me an email"})," at hello@deabankova.com or find me on social media. If you have any comments, suggestions or feedback, I'm always happy to chat."]})]})})})},be=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{id:"contact__social-container",children:Object(r.jsxs)("div",{id:"contact__social-container-box",children:[Object(r.jsx)("a",{href:"https://twitter.com/DeaBankova",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.c,className:"contact__social-icon-s",id:"contact__social-twitter-s"})}),Object(r.jsx)("a",{href:"https://www.linkedin.com/in/dbankova/",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.b,className:"contact__social-icon-s",id:"contact__social-linkedin-s"})}),Object(r.jsx)("a",{href:"https://github.com/deaxmachina",target:"_blank",children:Object(r.jsx)(b.a,{icon:u.a,className:"contact__social-icon-s",id:"contact__social-github-s"})})]})})})},ue=function(e){var t=e.id;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("svg",{width:"447",height:"394",id:t,children:[Object(r.jsxs)("filter",{id:"glow-contact",children:[Object(r.jsx)("feGaussianBlur",{stdDeviation:"5.0",result:"colouredBlur"}),Object(r.jsxs)("feMerge",{children:[Object(r.jsx)("feMergeNode",{in:"colouredBlur"}),Object(r.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(r.jsx)("rect",{x:"104",y:"140",width:"238",height:"125",fill:"#ebebeb",filter:"url(#glow-contact)","fill-opacity":.5}),Object(r.jsx)("rect",{className:"card-purple",x:"172.547",y:"51",width:"242",height:"242",transform:"rotate(45.48 172.547 51)","fill-opacity":.5}),Object(r.jsx)("rect",{className:"card-blue",x:"270.2",width:"242",height:"242",transform:"rotate(43.3754 270.2 0)","fill-opacity":.5})]})})},pe=function(){return Object(r.jsxs)("section",{id:"contact-page",children:[Object(r.jsx)(he,{}),Object(r.jsx)(je,{}),Object(r.jsx)(be,{}),Object(r.jsx)(ue,{id:"contact__decoration-l"})]})},me=(a(152),function(e){var t=e.linkto;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(x.b,{to:t,children:Object(r.jsx)("div",{className:"arrow__container",children:Object(r.jsx)(b.a,{icon:y.b,className:"arrow-up"})})})})}),fe=function(e){var t=e.windowWidth,a=e.windowHeight;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Z,{windowWidth:t,windowHeight:a}),Object(r.jsx)(de,{windowWidth:t,windowHeight:a}),Object(r.jsx)(pe,{}),Object(r.jsx)(w,{colorCustom:"#423E42",backgroundColorCustom:"#151315"}),Object(r.jsx)(me,{linkto:"/"})]})},ge=(a(153),function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"title-container",id:"writing__title-container",children:Object(r.jsx)("div",{className:"title-text large-text highlight-dark-background",id:"writing__title-text",children:"Writing"})}),Object(r.jsxs)("div",{className:"body-text-normal writing__explanation",children:["I plan to write occasionally: ",Object(r.jsx)("span",{children:"tutorials"}),", ",Object(r.jsx)("span",{children:"data visualisation"}),", ",Object(r.jsx)("span",{children:"other (musings, research, etc.)"})]})]})}),xe=function(e){return Object(r.jsx)("div",{id:"writing__post-preview-container",children:e.children})},Oe=function(e){var t=e.post,a={tutorial:"#4E1B34",dataviz:"#1B3A4B",other:"#48444b"};return Object(r.jsxs)("div",{className:"blog-preview-container",children:[Object(r.jsx)(x.b,{to:"/writing/".concat(t.id),className:"blog-preview-img",style:{backgroundImage:"url(".concat(t.imgUrl,")")}}),Object(r.jsxs)("div",{className:"blog-preview-content",style:{borderRightColor:a[t.category]},children:[Object(r.jsx)(x.b,{to:"/writing/".concat(t.id),children:Object(r.jsx)("h2",{className:"blog-preview-title medium-text",onMouseOver:function(e){e.target.style.backgroundColor=a[t.category]},onMouseOut:function(e){e.target.style.backgroundColor="inherit"},children:t.title})}),Object(r.jsx)("p",{className:"blog-preview-date",children:t.date}),Object(r.jsx)("p",{className:"blog-preview-summary",children:t.description}),Object(r.jsx)(x.b,{to:"/writing/".concat(t.id),children:Object(r.jsx)("button",{className:"blog-preview-btn",style:{backgroundColor:a[t.category]},children:"read more"})})]})]})},ye=[{id:"d3-react-start",title:"Getting started with D3.js in React",date:"Apr 2021",category:"tutorial",imgUrl:"https://live.staticflickr.com/65535/51140128795_068dcfc6f2_o.png",smallImgUrl:"https://live.staticflickr.com/65535/51124368892_d5eff0b322_o.png",description:Object(r.jsx)(r.Fragment,{children:"I recently completed a 100 Days of Code challenge with React and D3 and I wanted to share my thoughts on the two main approaches for combining these frameworks, both of which are designed to control the DOM in their own way. We will compare these approaches and go in depth into a couple of examples --bar chart, tooltips, d3-force and d3-brush--, focusing specifically on the option I have tended to prefer, which uses the useEffect and useRef React hooks to hand over DOM access to D3."})}],we=function(e){e.windowWidth,e.windowHeight;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{id:"writing__page-container",children:[Object(r.jsx)(O,{color:"#ebebeb"}),Object(r.jsxs)("div",{id:"writing__content-container",children:[Object(r.jsx)(ge,{}),Object(r.jsx)(xe,{children:ye.map((function(e){return Object(r.jsx)(Oe,{post:e})}))})]}),Object(r.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%"},children:Object(r.jsx)(w,{colorCustom:"#423E42",backgroundColorCustom:"#151315"})})]})})},ve=(a(154),function(e){var t=e.id,a=e.children;return Object(r.jsx)("div",{className:"post-template__wrapper",children:Object(r.jsx)("div",{className:"post-template__container",children:Object(r.jsx)("div",{id:t,children:a})})})}),_e=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"post-template__title-text large-text",children:"Getting started with D3.js in React"}),Object(r.jsx)("p",{className:"post-template__date",children:"Apr 2021"})]})},ke=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"post-template__single-col-wrapper",children:Object(r.jsxs)("p",{className:"post-template__single-col-para",children:["I recently completed a 100 Days of Code challenge with React and D3 (",Object(r.jsx)("a",{className:"post__link",href:"https://github.com/deaxmachina/100daysD3",target:"_blank",children:"code"})," / ",Object(r.jsx)("a",{className:"post__link",href:"https://100daysd3.netlify.app/",target:"_blank",children:"website"}),"), and I wanted to ",Object(r.jsx)("span",{className:"post__emph-text",children:"share my thoughts on the two main approaches for combining these frameworks"}),". I will go in depth into a couple of examples, focusing specifically on the approach which I have tended to prefer, which uses the useEffect and useRef React hooks to access the DOM.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"This post assumes some basic knowledge of both D3 and React, but is not geared towards experts. If you are new to D3, I highly recommend Curran Kelleher\u2019s ",Object(r.jsx)("a",{className:"post__link",href:"https://curran.github.io/dataviz-course-2018/",target:"_blank",children:"Dataviz 2018 course"})," or Shirley Wu\u2019s Frontend Master\u2019s ",Object(r.jsx)("a",{className:"post__link",href:"https://frontendmasters.com/courses/d3/",target:"_blank",children:"Introduction to D3 course"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"I use ",Object(r.jsx)("span",{className:"post__emph-text",children:"React version 17 (17.0.1)"})," and ",Object(r.jsx)("span",{className:"post__emph-text",children:"D3 version 6 (6.6.0)."})," The React parts use functional components, and the D3 ones the ",Object(r.jsx)("a",{className:"post__link",href:"https://observablehq.com/@d3/selection-join",target:"_blank",children:"new-ish join API"}),". I also make use of two very popular libraries chroma-js (v2.1.1) and lodash (v4.17.21)."]})})})},Ne=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"post-template__single-col-wrapper",children:[Object(r.jsxs)("div",{id:"overview-two-ways-combining-d3-react",children:[Object(r.jsx)("div",{className:"post-template__title-container",children:Object(r.jsx)("div",{className:"post-template__section-title-text",children:"Overview of the two ways (DOM handled by React or by D3) of combining D3 and React"})}),Object(r.jsxs)("p",{className:"post-template__single-col-para",children:["A lot of discussions have been taking place recently about best practices on using D3.js and React together, and some excellent resources already exist out there [my favourites include: Amelia Wattenberger\u2019s ",Object(r.jsx)("a",{className:"post__link",href:"https://wattenberger.com/blog/react-and-d3",target:"_blank",children:"React + D3.js tutorial"}),", Curran Kelleher\u2019s YouTube ",Object(r.jsx)("a",{className:"post__link",href:"https://datavis.tech/datavis-2020/",target:"_blank ",children:"DataViz 2020 series"}),", The Muratorium\u2019s YouTube ",Object(r.jsx)("a",{className:"post__link",href:"https://www.youtube.com/playlist?list=PLDZ4p-ENjbiPo4WH7KdHjh_EMI7Ic8b2B",target:"_blank",children:"Using React Hooks with D3"})," series], which should come as no surprise given the immense popularity of both frameworks. The reason why I decided to write yet another tutorial is that I only started my D3 + React journey 8 months ago and still have the ",Object(r.jsx)("span",{className:"post__emph-text",children:"fresh memory of how confusing it was to navigate the different approaches for combining the two frameworks"}),". My aim with this post is to share a personal perspective regarding what worked for me.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"You have probably already heard that the main challenge of combining D3 and React is that they ",Object(r.jsx)("span",{className:"post__emph-text",children:"both compete for control over the DOM"}),'. In other words, both React and D3 come with their own "capabilities" for manipulating the DOM, with their own pros and cons, and optimisations. D3 came out just before React and other modern frameworks such as Vue, and so, granted, it was not created with their existence in mind. So, what should you do?',Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"The general consensus is that you should let React handle DOM manipulations and D3 everything else related to your visualisation, such as scales, data munging, layout calculations etc. A common problem with this approach is that it makes it somewhat challenging, or sometimes impossible to use some popular D3 capabilities such as transitions and animations, axes, brushes, fine control over the behaviour of elements as they enter, update and exit, d3-force layouts, etc.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{children:"This gives you two options:"}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Option 1:"})," The \u2018proper\u2019 method. ",Object(r.jsx)("span",{className:"post__emph-text",children:"Use React whenever possible"}),", and only if strictly unavoidable resort to using D3 to access DOM elements directly via the use of useRef."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Option 2:"})," The ",Object(r.jsx)("span",{className:"post__emph-text",children:"\u2018chuck everything in a useEffect\u2019"})," method. Place almost all your D3 code as you\u2019d write it in vanilla JS into a React useEffect hook, appending to a DOM element (e.g. svg) accessed via a useRef."]})]})]})]}),Object(r.jsx)("div",{id:"pros-cons-either-way",children:Object(r.jsxs)("p",{className:"post-template__single-col-para",children:[Object(r.jsx)("h3",{className:"post-template__section-subtitle",children:"Pros and Cons of each way"}),Object(r.jsx)("span",{className:"post__highlighted-text",children:"Option 1"}),Object(r.jsx)("span",{style:{fontStyle:"italic"},children:" (let React handle the DOM) "}),Object(r.jsx)("span",{style:{fontWeight:"bold"},children:" Pros \u2191"}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsx)("li",{children:"Can make use of React performance optimisations."}),Object(r.jsx)("li",{children:"Generally write less & cleaner declarative code."}),Object(r.jsx)("li",{children:"Generally avoid hideous bugs. "})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"post__highlighted-text",children:"Option 1"}),Object(r.jsx)("span",{style:{fontStyle:"italic"},children:" (let React handle the DOM) "}),Object(r.jsx)("span",{style:{fontWeight:"bold"},children:" Cons \u2193"}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsx)("li",{children:"Sometimes you really can\u2019t avoid using a useRef to tap into the DOM (e.g. calling a D3 brush) anyway."}),Object(r.jsx)("li",{children:"Sometimes you need to implement otherwise straightforward in D3 elements (e.g. D3 axes) yourself."}),Object(r.jsx)("li",{children:"Most D3 code you find online will be written in vanilla JS and you will have to completely refactor it so as to work with React. If you are less experienced, this might be frustrating and time-consuming at first."})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"post__highlighted-text",children:"Option 2"}),Object(r.jsx)("span",{style:{fontStyle:"italic"},children:" (chuck D3 code in useEffect) "}),Object(r.jsx)("span",{style:{fontWeight:"bold"},children:" Pros \u2191"}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsx)("li",{children:"Since the code you put inside the useEffect is almost identical to vanilla JS D3 code, you can make use of existing D3 code and tutorials, especially if you are still finding your way around."}),Object(r.jsx)("li",{children:"You can use everything from the D3 API as is."}),Object(r.jsx)("li",{children:"Less cognitive load trying to figure out what goes where."})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"post__highlighted-text",children:"Option 2"}),Object(r.jsx)("span",{style:{fontStyle:"italic"},children:" (chuck D3 code in useEffect) "}),Object(r.jsx)("span",{style:{fontWeight:"bold"},children:" Cons \u2193"}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsx)("li",{children:"Lose access to React render optimisations."}),Object(r.jsx)("li",{children:"Prone to bugs."}),Object(r.jsx)("li",{children:"It\u2019s possible that it won\u2019t spark joy for you. Declarative React is nice after all."})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{})]})}),Object(r.jsxs)("div",{id:"pros-of-both",children:[Object(r.jsx)("h3",{className:"post-template__section-subtitle",children:"Pros of both, or why use React with D3 in the first place"}),Object(r.jsxs)("p",{className:"post-template__single-col-para",children:["You might be wondering if there is any point in using React with D3, especially if you are going to go with the \u2018chuck everything in a useEffect\u2019 approach. That depends (don't you love hearing that phrase!) on the way that your brain works, on your project requirements, on what you are trying to learn or achieve. If you have no external constraints and can work with any framework of your choice, I do recommend giving React + D3 a try. ",Object(r.jsx)("span",{className:"post__emph-text",children:"One of the main benefits is React state"}),". Using state to handle your data, and data changes, can vastly simplify your process. ",Object(r.jsx)("span",{className:"post__emph-text",children:"React components are another big advantage."})," They allow you to easily organise your various visualisation bits into components, which you can get to talk to each other via props and exchange data in state. As a novice to both frameworks, I ended up choosing the second option for my projects and I think that really paid out. I now feel comfortable to start switching over to the \u2018proper\u2019 (letting React handle the DOM) method whenever possible. Therefore, in this post I would like to show you how either approach works, but focus on the arguably hackier one in more depth."]})]})]})})},Ie=10,De=10,Se=30,Ce=10,Re=function(){var e=Object(n.useState)([30,50,80,90,20]),t=Object(o.a)(e,2),a=t[0],s=t[1],i=m.f().domain(a.map((function(e,t){return t}))).range([0,300-Ce-De]).padding(.05),c=m.g().domain(a.map((function(e,t){return t}))).range(["#f72585","#b5179e","#7209b7","#560bad","#480ca8","#3f37c9","#4895ef"]),l=Object(n.useRef)();Object(n.useEffect)((function(){m.i(l.current).call((function(e){return e.attr("transform","translate(".concat(0,", ",140-Se,")")).call(m.a(i)).call((function(e){return e.select(".domain").remove()}))}))}),[a]);return Object(r.jsxs)("div",{className:"bar-chart-demo-wrapper",children:[Object(r.jsx)("svg",{width:300,height:140,children:Object(r.jsxs)("g",{transform:"translate(".concat(Ce,",").concat(Ie,")"),children:[a.map((function(e,t){return Object(r.jsx)("rect",{x:i(t),y:140-Se-e,width:i.bandwidth(),height:e,fill:c(t)})})),Object(r.jsx)("g",{ref:l})]})}),Object(r.jsx)("button",{onClick:function(){return s(function(){var e=Math.floor(Math.random()*Math.floor(6))+3;return Array.from({length:e},(function(){return Math.floor(100*Math.random())+10}))}())},className:"bar-chart-random-btn",children:" random "})]})},Me=function(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Have a look at the complete code here ",Object(r.jsx)("a",{href:"https://codesandbox.io/s/react-bar-chart-demo-bnht8",target:"_blank",className:"post__link",children:"[code sandbox]"})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:" Use React to render the rectangles"})," that make up the bar chart inside the render function by looping over the data and rendering one element for each bar."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:" Use state to manage the data"}),", meaning that data is stored in state initially, and then on every subsequent update. See this in practice with the 'random' button. React will re-render everything depending on the data each time that it changes. This includes the rects in the render function, and the axis code stored in the useEffect."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Store the code for the axis in a useEffect side effect."})," Before we can do this, we create a ref with a ",Object(r.jsx)("code",{className:"code",children:"useRef"})," hook, which is a way to tap into the raw DOM element using React. By setting ",Object(r.jsx)("code",{className:"code",children:"const xAxisRef = useRef()"})," and passing this ref to a g element, we can then tap into this g element inside the ",Object(r.jsx)("code",{className:"code",children:"useEffect()"})," by invoking the ",Object(r.jsx)("code",{className:"code",children:"current"})," method, i.e. ",Object(r.jsx)("code",{className:"code",children:"xAxisRef.current"})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Define scales - xScale and colourScale inside the component directly"})," if they depend on the data, and the data will change or is otherwise stored in state. If your data is static and you don't need to store it in state, you can also put the code for the scales or other data-dependent code outside of your component. This way, the scales computation will not run each time the component loads. Note that another way to optimise code like so is to use a ",Object(r.jsx)("code",{className:"code",children:"useMemo"})," hook and wrap the scales code inside of it. If you're interested, have a look at the documentation for ",Object(r.jsx)("code",{className:"code",children:"useMemo"}),"."]})]})]})},Ue=a(410),Te=a(86),Ae=function(e){var t=e.codeString;return Object(r.jsx)(Ue.a,{customStyle:{fontSize:"14px",background:"#eee"},language:"jsx",style:Te.a,showLineNumbers:!1,lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:!0,children:t})},Ee=(a(402),function(){return Object(r.jsxs)("div",{className:"post-template__two-col-container",children:[Object(r.jsx)("div",{className:"post-template__two-col-left",children:Object(r.jsx)(Ae,{codeString:"const BarChartDemo = () => {\n  const [data, setData] = useState([30, 50, 80, 90, 20])\n      \n  // define your scales\n  const xScale = d3.scaleBand()\n    .domain(data.map((d, i) => i))\n    .range([0, width - margin.left - margin.right])\n    .padding(0.05)\n  const colourScale = d3.scaleOrdinal()\n    .domain(data.map((d, i) => i))\n    .range([\n      '#f72585', '#b5179e', '#7209b7', \n    '#560bad', '#480ca8', '#3f37c9','#4895ef'\n  ])\n  \n  // define and call d3 axis using a ref\n  const xAxisRef = useRef();\n  useEffect(() => {\n    const xAxis = g => g\n      .attr(\"transform\", `translate(${0}, ${height-margin.bottom})`)\n      .call(d3.axisBottom(xScale))\n      .call(d => d.select(\".domain\").remove())\n    // select the ref to the axis g element and call axis in there\n    d3.select(xAxisRef.current).call(xAxis)\n  }, [data])\n  \n  return (\n    <div className=\"wrapper\">\n      <svg width={width} height={height}>\n        <g transform={`translate(${margin.left},${margin.top})`}>\n          {data.map((d, i) => (\n            <rect\n              key={i}\n              x={xScale(i)}\n              y={height - margin.bottom - d}\n              width={xScale.bandwidth()}\n              height={d}\n              fill={colourScale(i)}\n            />\n          ))}\n          <g ref={xAxisRef}></g>\n        </g>\n      </svg>\n    </div>\n    )\n  };\n"})}),Object(r.jsxs)("div",{className:"post-template__two-col-right",children:[Object(r.jsx)(Re,{}),Object(r.jsx)("br",{}),Object(r.jsx)(Me,{})]})]})}),Fe=140,Be=10,Le=30,Pe=10,We=300-Pe-10,Je=function(){var e=Object(n.useState)([30,50,80,90,20]),t=Object(o.a)(e,2),a=t[0],s=t[1],i=m.f().domain(a.map((function(e,t){return t}))).range([0,We]).padding(.05),c=m.g().domain(a.map((function(e,t){return t}))).range(["#f72585","#b5179e","#7209b7","#560bad","#480ca8","#3f37c9","#4895ef"]),l=Object(n.useRef)(),d=Object(n.useRef)();Object(n.useEffect)((function(){if(a){m.i(l.current).selectAll(".bar").data(a).join("rect").classed("bar",!0).attr("x",(function(e,t){return i(t)})).attr("width",i.bandwidth()).attr("y",(function(e){return Fe-Le})).attr("height",0).style("fill","#fff").transition().duration(1e3).attr("y",(function(e){return Fe-Le-e})).attr("height",(function(e){return e})).style("fill",(function(e,t){return c(t)}));m.i(d.current).call((function(e){return e.attr("transform","translate(".concat(0,", ",Fe-Le,")")).call(m.a(i)).call((function(e){return e.select(".domain").remove()}))}))}}),[a]);return Object(r.jsxs)("div",{className:"bar-chart-use-effect-wrapper",children:[Object(r.jsx)("svg",{width:300,height:Fe,children:Object(r.jsx)("g",{transform:"translate(".concat(Pe,",").concat(Be,")"),ref:l,children:Object(r.jsx)("g",{ref:d})})}),Object(r.jsx)("button",{onClick:function(){return s(function(){var e=Math.floor(Math.random()*Math.floor(6))+3;return Array.from({length:e},(function(){return Math.floor(100*Math.random())+10}))}())},className:"bar-chart-random-btn",children:" random "}),Object(r.jsx)("br",{})]})},He=function(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Have a look at the complete code here ",Object(r.jsx)("a",{href:"https://codesandbox.io/s/react-barchart-useeffect-demo-d9w0t",target:"_blank",className:"post__link",children:"[code sandbox]"})]}),Object(r.jsx)("br",{}),"We first note that the following bits are the same as before: defining data in state, our scales definition, and creating our svg and inside group g element in the render function of this React component. The differences are:",Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"All of our graph code is now stored in a useEffect."})," Its array of dependencies includes ",Object(r.jsx)("code",{className:"code",children:"data"}),', meaning that the code inside will execute, and the component will re-render, each time the data changes. In our case this happens on click of a "random" button (see pen for button implementation).']}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"The code inside the useEffect is pure D3 code"}),", but instead of tapping into an element the usual D3 JS way i.e. directly selecting a reference to the element by class or id, we make use of a React reference to the raw DOM element ",Object(r.jsx)("code",{className:"code",children:"useRef"}),". The general strategy for this is like before:",Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsx)("li",{children:"Choose element we want to select - the group element inside the svg here."}),Object(r.jsxs)("li",{children:["Create a ref to it and assign it to a variable, e.g. ",Object(r.jsx)("code",{className:"code",children:"const gRef = useRef();"})]}),Object(r.jsxs)("li",{children:["Put that reference in the ",Object(r.jsx)("code",{className:"code",children:"ref"})," attribute of the element."]})]})]}),Object(r.jsxs)("li",{children:["Note that if you decide to create a single reference, e.g. to the top level group element or the entire svg and then use d3's ",Object(r.jsx)("code",{className:"code",children:"append"})," inside the ",Object(r.jsx)("code",{className:"code",children:"useEffect"})," to append to it, it will work, but if you update the data, the same element will get appended over and over again, instead of being updated. I either make a new ref for the group elements that I want to use, such as in this case a ref for the bar chart and one for the axis, or ",Object(r.jsxs)("span",{className:"post__emph-text",children:["don't use ",Object(r.jsx)("code",{className:"code",children:"append"})," but instead use ",Object(r.jsx)("code",{className:"code",children:"selectAll-data-join"})]})," even if appending a single element."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Note the use of transition"})," ",Object(r.jsx)("code",{className:"code",children:"transition().duration(1000)"})," , just as you normally would with D3. If you wanted to implement the same using the approach above, you might need to use an external library such as GSAP or define your own transition. In some cases, you might be able to achieve it with CSS instead. This particular example is relatively straightforward but there are cases when it's not."]})]})]})},Ge=(a(403),function(){return Object(r.jsxs)("div",{className:"post-template__two-col-container",children:[Object(r.jsx)("div",{className:"post-template__two-col-left",children:Object(r.jsx)(Ae,{codeString:'const BarChartUseEffectDemo = () => {\n    // --- same as above --- \n    const [data, setData] = useState([30, 50, 80, 90, 20]) \n      \n    // define your scales --- omitted; same as above ---\n  \n    // refs \n    const gRef = useRef();\n    const xAxisRef = useRef();\n  \n    // D3 code\n    useEffect(() => {\n      if (!data) {return}\n\n      // select group for the bar chart \n      const g = d3.select(gRef.current)\n      // attach the bars \n      const bars = g.selectAll(".bar")\n        .data(data)\n        .join("rect")\n        .classed("bar", true)\n        .attr("x", (d, i) => xScale(i))\n        .attr("width", xScale.bandwidth())\n        .attr("y", d => height - margin.bottom)\n        .attr("height", 0)\n        .style("fill", "#fff")\n        .transition().duration(1000)\n          .attr("y", d => height - margin.bottom - d)\n          .attr("height", d => d)\n          .style("fill", (d, i) => colourScale(i))\n  \n      // define and call axes --- omitted; same as above ---\n  \n    }, [data])\n\n    return (\n      <div className="wrapper">\n        <svg width={width} height={height}>\n          <g \n            transform={`translate(${margin.left},${margin.top})`} \n            ref={gRef}\n          >\n            <g ref={xAxisRef}></g>\n          </g>\n        </svg>\n      </div>\n    )\n  };\n'})}),Object(r.jsxs)("div",{className:"post-template__two-col-right",children:[Object(r.jsx)(Je,{}),Object(r.jsx)(He,{})]})]})}),qe=140,ze=10,Ke=30,$e=10,Ze=300-$e-10,Ye=function(){var e=Object(n.useState)([30,50,80,90,20]),t=Object(o.a)(e,2),a=t[0],s=(t[1],m.f().domain(a.map((function(e,t){return t}))).range([0,Ze]).padding(.05)),i=m.g().domain(a.map((function(e,t){return t}))).range(["#f72585","#b5179e","#7209b7","#560bad","#480ca8","#3f37c9","#4895ef"]),c=Object(n.useRef)(),l=Object(n.useRef)(),d=Object(n.useRef)();return Object(n.useEffect)((function(){if(a){var e=m.i(c.current),t=m.i(d.current);e.selectAll(".bar").data(a).join("rect").classed("bar",!0).attr("x",(function(e,t){return s(t)})).attr("width",s.bandwidth()).attr("y",(function(e){return qe-Ke})).attr("height",0).style("fill","#fff").on("mouseenter",(function(e,n){t.style("opacity",1),t.select(".tooltip-info").text("val: ".concat(n));var i=s(a.indexOf(n)),c=qe-Ke-n-30;t.style("left","calc(".concat(i,"px + 5px)")).style("top","".concat(c,"px")),m.i(this).style("fill","#fca311")})).on("mouseleave",(function(e,n){t.style("opacity",0),m.i(this).style("fill",i(a.indexOf(n)))})).transition().duration(1e3).attr("y",(function(e){return qe-Ke-e})).attr("height",(function(e){return e})).style("fill",(function(e,t){return i(t)}));m.i(l.current).call((function(e){return e.attr("transform","translate(".concat(0,", ",qe-Ke,")")).call(m.a(s)).call((function(e){return e.select(".domain").remove()}))}))}}),[a]),Object(r.jsxs)("div",{className:"bar-chart-tooltip-wrapper",children:[Object(r.jsx)("svg",{width:300,height:qe,children:Object(r.jsx)("g",{transform:"translate(".concat($e,",").concat(ze,")"),ref:c,children:Object(r.jsx)("g",{ref:l})})}),Object(r.jsx)("div",{className:"tooltip",ref:d,children:Object(r.jsx)("div",{className:"tooltip-info"})})]})},Ve=function(){return Object(r.jsxs)("p",{className:"post-template__single-col-para",children:["To finish off this bar chart, let's have a look at ",Object(r.jsx)("span",{className:"post__emph-text",children:"two different ways you might go about implementing a tooltip on hover"}),". This is a simple example, so it doesn't make much of a difference which way you use, but if you are constructing a more elaborate tooltip with multiple lines of information and styles, constructing this with state to store your tooltip data in can simplify your process.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"post__highlighted-text",children:"Let's have a look at the D3 way first."})," The tooltip would need to be placed inside a ",Object(r.jsx)("code",{className:"code",children:"useEffect"}),". We then select, say, a div element, which here has a class of ",Object(r.jsx)("code",{className:"code",children:"tooltip-info"})," and use its ",Object(r.jsx)("code",{className:"code",children:"html"})," method to ",Object(r.jsx)("span",{className:"post__emph-text",children:"directly inject html inside the div"}),". This example is simple because we only have 2 lines of html, i.e. only the name and value for each data point.",Object(r.jsx)(Ae,{codeString:'useEffect(() => {\n  tooltip.select(".tooltip-info")\n  .html(\n    <div><span>name: </span> ${datum.name}</div>\n    <div><span>value: </span> ${datum.value}</div>\n  }, [])\n)'}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"post__highlighted-text",children:"While with the React approach"}),", you can ",Object(r.jsx)("span",{className:"post__emph-text",children:"construct the html skeleton of your tooltip directly in the render method"}),", and then populate it with the content of variables stored in state. We've done this here:",Object(r.jsx)(Ae,{codeString:'const [tooltipData, setTooltipData] = useState()\nuseEffect(() => {\n  tooltip.select(".tooltip-info")\n  setTooltipData(datum)\n}, [])\nrender (\n  <div>\n    <div><span>name: </span>{tooltipData.name}</div>\n    <div><span>value: </span>{tooltipData.value}</div>\n  </div>\n)'}),"where we've created beforehand a ",Object(r.jsx)("code",{className:"code",children:"const [tooltipData, setTooltipData] = useState()"})," state to contain our tooltip data, and all that D3 needs to do (note that you don't even have to do this with D3) is to update state so that the tooltip data gets updated. It is arguably a cleaner way to do this.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"I lost the full implementation of the two options that I had prepared. I'm sorry! However, you can still check out the full implementation of the above bar chart with tooltip over here ",Object(r.jsx)("a",{href:"https://codesandbox.io/s/ecstatic-sea-rbb5n?file=/src/App.js",className:"post__link",target:"_blank",children:"[code sandbox]"}),". It uses the D3 way, and can very easily be changed to use the React state way. Maybe see if you can modify it to achieve that?"]})},Qe=(a(404),function(){return Object(r.jsxs)("div",{className:"post-template__single-col-wrapper",children:[Object(r.jsx)(Ye,{}),Object(r.jsx)(Ve,{})]})}),Xe=(a(405),a(87)),et=a(31),tt=a.n(et),at=a(32),nt=a.n(at);var st=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(null),s=Object(o.a)(a,2),i=s[0],c=s[1],l=function(){var e=Array.from({length:tt.a.random(30,200)},(function(e,t){return{id:Math.random(),r:(a=5,n=11,a=Math.ceil(a),n=Math.floor(n),Math.floor(Math.random()*(n-a)+a)),color:"maroon"};var a,n}));c(Object(Xe.a)(e))};Object(n.useEffect)((function(){c(l)}),[]);var d=at.scale(["#f72585","#4895ef"]).domain([5,10]);return Object(n.useEffect)((function(){if(i){var e=m.i(t.current).attr("transform","translate(".concat(160,", ").concat(160,")")),a=(e.append("circle").attr("r",160).attr("fill","#eee"),e.selectAll(".circle").data(i,(function(e){return e})).join("circle").classed("circle",!0).attr("r",(function(e){return e.r})).attr("fill",(function(e){return d(e.r)})).attr("stroke",(function(e){return d(e.r)})).attr("stroke-opacity",.35).attr("stroke-width",3));m.e(i).on("tick",(function(){a.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))})).force("collide",m.c().radius((function(e){return e.r+1}))).force("radial",m.d(1))}}),[i]),Object(r.jsxs)("div",{className:"force-demo-wrapper",children:[Object(r.jsx)("svg",{ref:e,width:320,height:320,children:Object(r.jsx)("g",{ref:t})}),Object(r.jsx)("button",{onClick:l,className:"force-demo-random-btn",children:"random"}),Object(r.jsx)("br",{})]})},it=function(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Have a look at the complete code here ",Object(r.jsx)("a",{href:"https://codesandbox.io/s/react-d3force-demo-wqhci",target:"_blank",className:"post__link",children:"[code sandbox]"}),".",Object(r.jsx)("br",{}),"Below I assume that you know what a d3-force graph is and how to implement one, but if that's not the case, here is one of the resources I used when I was first learning about these: ",Object(r.jsx)("a",{href:"https://observablehq.com/@d3/force-directed-graph",target:"_blank",className:"post__link",children:"Observable notebook"})," by Mike Bostock. Note that you can also search for 'force' in Observable and you will get many wonderful resources. This of course applies to any other graph type."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Store the graph nodes"})," as you would for any other data in a React state ",Object(r.jsx)("code",{className:"code",children:"const [nodes, setNodes] = useState(null);"})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Get D3 and React to talk to each other"})," via useRef and useEffect. Define a reference to the group element containing your D3 graph like so ",Object(r.jsx)("code",{className:"code",children:"const gRef = useRef();"})," and don't forget to include the ref as an attr of the element itself ",Object(r.jsx)("code",{className:"code",children:"<g ref={gRef}></g>"})," and then select the group element inside ",Object(r.jsx)("code",{className:"code",children:"useEffect"})," like so ",Object(r.jsx)("code",{className:"code",children:"const g = d3.select(gRef.current)"})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Write all D3 code to define your d3-force graph inside the useEffect"})," and make sure to include all the data, i.e. in this case the nodes, in the array of dependencies of the ",Object(r.jsx)("code",{className:"code",children:"useEffect"})," at the end. This will make sure the code is ran and the DOM updated each time the data changes, such as with the use of the random button in here."]})]})]})},ct=function(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"post-template__two-col-container",style:{marginBottom:"10px"},children:[Object(r.jsx)("div",{className:"post-template__two-col-left",children:Object(r.jsx)(st,{})}),Object(r.jsxs)("div",{className:"post-template__two-col-right",style:{marginTop:"30px"},children:["I wanted to give a simple example using ",Object(r.jsx)("a",{href:"https://github.com/d3/d3-force",target:"_blank",className:"post__link",children:"d3-force"})," with React, as it is something I don't often see mentioned in tutorials, but a part of D3 that I love to (over)use. Unlike D3 transitions, animations and axes, d3-force is one of those integral parts of D3 that I have not seen implemented in pure React in a straightforward way thusfar. However, you can find libraries such as ",Object(r.jsx)("a",{href:"https://github.com/uber/react-vis-force",target:"_blank",className:"post__link",children:"this one"})," by Uber which would allow you in certain cases to construct a d3-force graph using the declarative React way via the use of a ready-made graph component. Let's have a look at ",Object(r.jsx)("span",{className:"post__emph-text",children:"a simple way to port a d3-force graph inside a React component"}),". The flow is actually the same as with the bar chart, which means that once you get the hang of this method, you can port any existing code into React this way."]})]}),Object(r.jsxs)("div",{className:"post-template__two-col-container",children:[Object(r.jsx)("div",{className:"post-template__two-col-left",children:Object(r.jsx)(Ue.a,{customStyle:{fontSize:"14px",background:"#eee",height:"500px"},language:"jsx",style:Te.a,showLineNumbers:!1,wrapLines:!0,lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},children:'const ForceDemo = () => {\n    const gRef = useRef();\n  \n    const [nodes, setNodes] = useState(null);\n  \n    // helper function - get random data\n    const getRandomData = () => {\n      const nodes = Array.from({length: _.random(30, 200)}, \n      (j, i) => ({\n        id: Math.random(),\n        r: getRandomInt(minRadius, maxRadius+1),\n        color: "maroon"\n      }));\n      setNodes([...nodes])\n    }\n  \n    // data load \n    useEffect(() => {\n      setNodes(getRandomData)\n    }, []);\n  \n    // colour scale \n    const colorScale = chroma.scale([\'#f72585\', \'#4895ef\'])\n      .domain([minRadius, maxRadius]) \n  \n    /// D3 Code ///\n    useEffect(() => {\n      if (!nodes) { return }\n  \n      const g = d3.select(gRef.current)\n      // add a circle surrouding the whole force graph \n      const circle = g.append("circle")\n          .attr("r", 150)\n          .attr("fill", "#eee")\n  \n      // add all the cirlces as nodes \n      const node = g  \n        .selectAll(".circle")\n        .data(nodes, d => d)\n        .join("circle")\n        .classed("circle", true)\n          .attr("r", d => d.r) \n          .attr("fill", d => colorScale(d.r))\n          .attr("stroke", d => colorScale(d.r))\n          .attr("stroke-opacity", 0.35)\n          .attr("stroke-width", 3)\n  \n      // add the force simulation\n      function tick() { \n        node.attr("cx", d => d.x).attr("cy", d => d.y); \n      }\n      const simulation = d3.forceSimulation(nodes)\n        .on("tick", tick)\n        .force("collide", d3.forceCollide().radius(d => d.r + 1))\n        .force(\'radial\', d3.forceRadial(1))\n  \n    }, [nodes]);\n  \n    return (\n      <div className="wrapper"> \n        <svg width={width} height={height}>\n          <g ref={gRef}></g>\n        </svg>\n      </div>\n    )\n  };'})}),Object(r.jsx)("div",{className:"post-template__two-col-right",children:Object(r.jsx)(it,{})})]})]})},ot=300,rt=tt.a.range(10).map((function(e){return"circle".concat(e)})).map((function(e,t){return{name:e,value:tt.a.range(10).map((function(e){return 3*t+1}))[t]}})),lt=function(){var e=Object(n.useState)(rt),t=Object(o.a)(e,2),a=t[0],s=(t[1],Object(n.useState)(0)),i=Object(o.a)(s,2),c=i[0],l=(i[1],Object(n.useRef)()),d=Object(n.useRef)(),h=Object(n.useRef)();return Object(n.useEffect)((function(){if(a){var e=m.i(l.current),t=m.i(d.current),n=m.f().domain(a.map((function(e){return e.name}))).range([10,290]).padding(.2),s=nt.a.scale(["#f72585","#4895ef"].map((function(e){return nt()(e).saturate(1)}))).domain([1,30]),i=(t.selectAll(".background-rect").data([0]).join("rect").classed("background-rect",!0).attr("width",ot).attr("y",100).attr("height",100).attr("fill","#eee"),t.selectAll(".circle").data(a).join("circle").classed("circle",!0).attr("r",(function(e){return e.value})).attr("cx",(function(e){return n(e.name)})).attr("cy",150).style("fill",(function(e){return s(e.value)})).style("stroke",(function(e){return s(e.value)})).style("stroke-width",3).style("fill-opacity",.8),e.selectAll(".big-circle").data([0]).join("circle").classed("big-circle",!0).attr("r",40).attr("cx",150).attr("cy",50).style("fill",(function(e){return s(a[c].value)})).style("stroke",(function(e){return s(a[c].value)})).style("stroke-width",3).style("fill-opacity",.8)),o=m.b().extent([[0,100],[ot,200]]).on("brush end",(function(e){var t=Math.floor(e.selection[0][0]/n.step());i.style("fill",(function(e){return s(a[t].value)})).style("stroke",(function(e){return s(a[t].value)}))}));m.i(h.current).call(o).call(o.move,[[0,100],[30,200]])}}),[a]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"brush-demo-wrapper",children:Object(r.jsx)("svg",{width:ot,height:200,children:Object(r.jsxs)("g",{children:[Object(r.jsx)("g",{ref:l}),Object(r.jsx)("g",{ref:d}),Object(r.jsx)("g",{ref:h})]})})})})},dt=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("ul",{className:"post__list-in-body",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Create one orchestrating component"})," ",Object(r.jsx)("code",{className:"code",children:"BrushDemo"}),", which is responsible for managing data and state and passing these into the respective props of components."]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"post__highlighted-text",children:"Create one component for the circle which we want to display bigger on top upon brushing"})," ",Object(r.jsx)("code",{className:"code",children:"DisplayComponent"}),". Create one component, ",Object(r.jsx)("code",{className:"code",children:"BrushableComponent"})," for the graph that can be brushed. Note that we put the brush code itself in this component as well, but if you want to make your code even more modular and neat, you can isolate the brush into its own component as well. (Refer to the link to the full code pen above to see what I'm talking about here.)"]}),Object(r.jsxs)("li",{children:["We use state ",Object(r.jsx)("code",{className:"code",children:"const [selectedIndex, setSelectedIndex] = useState(0)"})," to ",Object(r.jsx)("span",{className:"post__highlighted-text",children:"keep track of which element has been brushed"})," in the ",Object(r.jsx)("code",{className:"code",children:"BrushableComponent"}),", so that we can pass this information to ",Object(r.jsx)("code",{className:"code",children:"DisplayComponent"})," which can in turn update the selected circle. For ",Object(r.jsx)("code",{className:"code",children:"BrushableComponent"}),", we pass the setter ",Object(r.jsx)("code",{className:"code",children:"setSelectedIndex"})," as a prop because we want to pass the index of the selected circle in this component through the use of d3-brush. For ",Object(r.jsx)("code",{className:"code",children:"DisplayComponent"}),", we pass the actual value ",Object(r.jsx)("code",{className:"code",children:"selectedIndex"})," as a prop, so as to display the correctly selected circle after the brush has been triggered (ended)."]}),Object(r.jsxs)("li",{children:["We also ",Object(r.jsx)("span",{className:"post__highlighted-text",children:"pass other props to both components as needed,"})," for example in this case, colour scales."]})]})})},ht=(a(407),function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"post-template__single-col-wrapper",children:Object(r.jsxs)("p",{className:"post-template__single-col-para",children:["Similar to the d3-force example above, ",Object(r.jsx)("a",{className:"post__link",href:"https://github.com/d3/d3-brush",target:"_blank",children:"d3-brush"})," is one of those parts of the D3 API which you ",Object(r.jsx)("span",{className:"post__emph-text",children:"can't just put as is in the React render method"}),". However, it is perfectly possible to write code for the rest of your visualisation the React way, and then only make a reference for the brush inside a group element, which you then access in the ",Object(r.jsx)("code",{className:"code",children:"useEffect"})," through ",Object(r.jsx)("code",{className:"code",children:"useRef"}),". Below, we consider an example written entirely in the useEffect way. See if you can refactor the same to work with only a single ref to the group element necessary for the brush. This time since we have two separate visual elements, tied together via the brush, it's a good opportunity to consider how we can ",Object(r.jsx)("span",{className:"post__emph-text",children:"make use of React components"})," to modularize the code. Below, we will just consider the strategy for doing this.",Object(r.jsx)("br",{}),"For the full implementation, have a look here ",Object(r.jsx)("a",{className:"post__link",href:"https://codesandbox.io/s/brush-components-demo-97e3s",target:"_blank",children:"[code sandbox]"}),". If you'd like to compare this with a version that doesn't use components, head here ",Object(r.jsx)("a",{className:"post__link",href:"https://codesandbox.io/s/brush-demo-77ivi",target:"_blank",children:"[code sandbox]"})]})}),Object(r.jsxs)("div",{className:"post-template__two-col-container",children:[Object(r.jsx)("div",{className:"post-template__two-col-left",children:Object(r.jsx)(Ae,{codeString:"const BrushDemo = () => {\n  const [data, setData] = useState(dummyData) \n  const [selectedIndex, setSelectedIndex] = useState(0); \n\n  if (!data) {return}\n\n  // Scales \n  const circlesScale = d3.scaleBand()\n    .domain(data.map(d => d.name))\n    .range([10, width-10])\n    .padding(0.2)\n  const colorScale = chroma.scale(['#f72585', '#4895ef']\n    .map(color => chroma(color).saturate(0)))\n    .domain([1, 30]) \n\n  return (\n    <>\n      <div className=\"wrapper\">\n        <svg width={width} height={height}>\n          <g>\n            <DisplayComponent \n              data={data} \n              colorScale={colorScale} \n              selectedIndex={selectedIndex}\n            />\n            <BrushableComponent \n              data={data} \n              circlesScale={circlesScale} \n              colorScale={colorScale} \n              setSelectedIndex={setSelectedIndex}\n            />\n          </g>\n        </svg>\n      </div>\n\n    </>\n  )\n};"})}),Object(r.jsxs)("div",{className:"post-template__two-col-right",children:[Object(r.jsx)(lt,{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(dt,{})]})]})]})}),jt=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"post-template__single-col-wrapper",children:Object(r.jsx)("div",{id:"react-d3-code-walkthroughs",className:"post-template__title-container",children:Object(r.jsx)("div",{className:"post-template__section-title-text",children:"Code Walkthroughs"})})}),Object(r.jsxs)("div",{className:"post-template__two-col-wrapper",children:[Object(r.jsx)("h3",{id:"simple-barchart-both",className:"post-template__section-subtitle",children:"Simple bar chart in both ways - React for DOM control option"}),Object(r.jsx)("br",{}),Object(r.jsx)(Ee,{}),Object(r.jsx)("h3",{className:"post-template__section-subtitle",children:"Simple bar chart in both ways - D3 for DOM control option"}),Object(r.jsx)(Ge,{}),Object(r.jsx)("h3",{id:"tooltip-both",className:"post-template__section-subtitle",children:"Tooltip in both ways"}),Object(r.jsx)("div",{className:"post-template__single-col-wrapper",children:Object(r.jsx)("p",{className:"post-template__single-col-para",children:Object(r.jsx)(Qe,{})})}),Object(r.jsx)("h3",{id:"force-with-react",className:"post-template__section-subtitle",children:"Force graph, the D3 way (useEffect + useRef) way"}),Object(r.jsx)(ct,{}),Object(r.jsx)("h3",{id:"brushing-with-react",className:"post-template__section-subtitle",children:"Brushing, the D3 way (useEffect + useRef) way"}),Object(r.jsx)(ht,{})]})]})},bt=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"post-template__table-of-contents",children:[Object(r.jsx)("div",{className:"post-template__title-container",children:Object(r.jsx)("div",{className:"post-template__section-title-text highlight-dark-background",children:"Table of Contents"})}),Object(r.jsxs)("ul",{className:"post-template__table-of-contents-main-list",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)(K.a,{to:"#overview-two-ways-combining-d3-react",className:"post__toc-link",children:"Overview of the two ways (DOM handled by React or by D3) of combining D3 and React"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(K.a,{to:"#pros-cons-either-way",className:"post__toc-link",children:"Pros and cons of each way"})}),Object(r.jsx)("li",{children:Object(r.jsx)(K.a,{to:"#pros-of-both",className:"post__toc-link",children:"Pros of both, or why use React with D3 in the first place"})})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)(K.a,{to:"#react-d3-code-walkthroughs",className:"post__toc-link",children:"Code Walkthroughs"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(K.a,{to:"#simple-barchart-both",className:"post__toc-link",children:"Simple bar chart in both ways"})}),Object(r.jsx)("li",{children:Object(r.jsx)(K.a,{to:"#tooltip-both",className:"post__toc-link",children:"Tooltip in both ways"})}),Object(r.jsx)("li",{children:Object(r.jsx)(K.a,{to:"#force-with-react",className:"post__toc-link",children:"Force graph, the D3 way (useEffect + useRef) way"})}),Object(r.jsx)("li",{children:Object(r.jsx)(K.a,{to:"#brushing-with-react",className:"post__toc-link",children:"Brushing, the D3 way (useEffect + useRef) way"})})]})]})]})]})})},ut=function(){return Object(r.jsxs)(ve,{id:"react-d3-tutorial",children:[Object(r.jsx)(_e,{}),Object(r.jsx)(ke,{}),Object(r.jsx)(bt,{}),Object(r.jsx)(Ne,{}),Object(r.jsx)(jt,{}),Object(r.jsx)(me,{linkto:"/writing/d3-react-start"})]})},pt=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(_.a,{path:"/writing/d3-react-start",exact:!0,render:function(e){return Object(r.jsx)(ut,{})}})})};var mt=function(){var e=function(){var e=Object(n.useState)([0,0]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.useLayoutEffect)((function(){function e(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(x.a,{children:[Object(r.jsx)(k,{}),Object(r.jsxs)(_.c,{children:[Object(r.jsx)(_.a,{path:"/",exact:!0,render:function(e){return Object(r.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{windowWidth:a,windowHeight:s}))}}),Object(r.jsx)(_.a,{path:"/about",exact:!0,render:function(e){return Object(r.jsx)(v,Object(c.a)(Object(c.a)({},e),{},{windowWidth:a,windowHeight:s}))}}),Object(r.jsx)(_.a,{path:"/writing",exact:!0,render:function(e){return Object(r.jsx)(we,Object(c.a)(Object(c.a)({},e),{},{windowWidth:a,windowHeight:s}))}}),Object(r.jsx)(_.a,{path:"/portfolio",exact:!0,render:function(e){return Object(r.jsx)(C,Object(c.a)(Object(c.a)({},e),{},{windowWidth:a}))}}),N.map((function(e){return Object(r.jsx)(_.a,{path:"/portfolio/".concat(e.id),exact:!0,render:function(t){return Object(r.jsx)(R,Object(c.a)(Object(c.a)({},t),{},{project:e,windowWidth:a}))}})})),Object(r.jsx)(pt,{})]})]})})};i.a.render(Object(r.jsx)(mt,{}),document.getElementById("root"))},59:function(e,t,a){},60:function(e,t,a){}},[[408,1,2]]]);
//# sourceMappingURL=main.b2573164.chunk.js.map